<!DOCTYPE html>
<html>
<head>
    <title>SparkleCord App</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link rel="icon" type="image/png" href="https://sparklecord.github.io/assets/logo.png">
</head>
<body>
    <div id="app-container"></div>
   <script>
    async function loadFromZIP() {
        try {
            const response = await fetch('SparkleCord-1.0.0_Client.zip');
            const blob = await response.blob();
            const zip = await JSZip.loadAsync(blob);
            const extractedFiles = {};
            for (const filename in zip.files) {
                if (!zip.files[filename].dir) { extractedFiles[filename] = await zip.files[filename].async('blob'); }
            }
            const fileURLs = {};
            for (const filename in extractedFiles) {
                fileURLs[filename] = URL.createObjectURL(extractedFiles[filename]);
            }
            const indexFile = await zip.file('index.html').async('text');
            const fixedIndex = indexFile.replace(/(src|href)="([^"]+)"/g, (match, attr, path) => {
                return fileURLs[path] ? `${attr}="${fileURLs[path]}"` : match;
            });
            const appBlob = new Blob([fixedIndex], { type: 'text/html' });
            const appURL = URL.createObjectURL(appBlob);
            document.getElementById('app-container').innerHTML = `<iframe src="${appURL}" style="width:100%;height:100vh;border:none;"></iframe>`;
        } catch (error) { console.error('Error loading SparkleCord:', error); }
    }
    loadFromZIP();
    </script>
    <style> 
    #app-container {
        background: #2B2D31; 
        position: absolute;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
    }
    iframe {
        width: 100%;
        height: 100%;
        border: none;
        display: block;
        background: #2B2D31;
    }
    </style>
</body>
</html>
